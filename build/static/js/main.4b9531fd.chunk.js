(this.webpackJsonpwaitcoin=this.webpackJsonpwaitcoin||[]).push([[0],{197:function(e,t){e.exports={abi:[{inputs:[],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"value",type:"uint256"}],name:"newRegistry",type:"event"},{inputs:[{internalType:"string[]",name:"serviceloc2",type:"string[]"},{internalType:"uint256",name:"usr",type:"uint256"},{internalType:"uint256[]",name:"servicestochange",type:"uint256[]"}],name:"changeRegistry",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"userid",type:"uint256"}],name:"listgetter",outputs:[{internalType:"string[]",name:"",type:"string[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"string[]",name:"serviceloc",type:"string[]"}],name:"submitRegistry",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256[]",name:"sss",type:"uint256[]"}],name:"test1",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"pure",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"},{internalType:"uint256",name:"",type:"uint256"}],name:"userservicelist",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"}]}},204:function(e,t,n){},206:function(e,t,n){},220:function(e,t){},222:function(e,t){},224:function(e,t){},228:function(e,t){},255:function(e,t){},257:function(e,t){},271:function(e,t){},273:function(e,t){},305:function(e,t){},307:function(e,t){},399:function(e,t){},400:function(e,t){},492:function(e,t,n){"use strict";n.r(t);var a=n(54),i=n.n(a),s=n(194),c=n.n(s),u=(n(204),n(44)),r=n(5),o=n(6),d=n(21),l=n(11),h=n(10),p=n(14),g=n.n(p),f=(n(206),n(195)),y=n.n(f),b=n(197),m=n.n(b),j=n(8),v=function(e){Object(l.a)(n,e);var t=Object(h.a)(n);function n(e){var a;return Object(r.a)(this,n),(a=t.call(this,e)).state={acct:"placeholderacct",serviceregistrytosend:["placeholder"],custid:"Enter RegistryID",register:"",sortedreg:{},userid:"",regid:"RegistryID"},a.getAccount=a.getAccount.bind(Object(d.a)(a)),a.injectweb3andcontract=a.injectweb3andcontract.bind(Object(d.a)(a)),a.submitregdata=a.submitregdata.bind(Object(d.a)(a)),a.getreg=a.getreg.bind(Object(d.a)(a)),a.sortreg=a.sortreg.bind(Object(d.a)(a)),a.replaceloc=a.replaceloc.bind(Object(d.a)(a)),a.handleChange1=a.handleChange1.bind(Object(d.a)(a)),a.handleChange2=a.handleChange2.bind(Object(d.a)(a)),a.handleChange3=a.handleChange3.bind(Object(d.a)(a)),a}return Object(o.a)(n,[{key:"componentDidMount",value:function(e){"undefined"!==typeof window.ethereum&&(console.log("MetaMask is installed!"),this.getAccount())}},{key:"injectweb3andcontract",value:function(e){function t(){return(t=Object(u.a)(g.a.mark((function e(){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a();case 2:window.contract=e.sent;case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var n=JSON.stringify(m.a.abi);function a(){return i.apply(this,arguments)}function i(){return(i=Object(u.a)(g.a.mark((function e(){var t;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=new y.a(window.ethereum),e.next=3,new t.eth.Contract(JSON.parse(n),"0xf0fB31D088ce9C01132B3f70e9195E08fAf1F92d");case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){t.apply(this,arguments)}()}},{key:"getAccount",value:function(){var e=Object(u.a)(g.a.mark((function e(t){var n;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,window.ethereum.request({method:"eth_requestAccounts"});case 2:if(n=e.sent,this.setState({acct:n[0]}),"0x61"===window.ethereum.chainId){e.next=22;break}return e.prev=5,e.next=8,window.ethereum.request({method:"wallet_switchEthereumChain",params:[{chainId:"0x61"}]});case 8:e.next=22;break;case 10:if(e.prev=10,e.t0=e.catch(5),4902!==e.t0.code){e.next=21;break}return e.prev=13,e.next=16,window.ethereum.request({method:"wallet_addEthereumChain",params:[{chainId:"0x61",chainName:"Smart Chain",rpcUrls:["https://data-seed-prebsc-1-s1.binance.org:8545/"]}]});case 16:e.next=21;break;case 18:e.prev=18,e.t1=e.catch(13),console.log("Error adding chain");case 21:console.log("Error switching networks");case 22:this.injectweb3andcontract();case 23:case"end":return e.stop()}}),e,this,[[5,10],[13,18]])})));return function(t){return e.apply(this,arguments)}}()},{key:"submitregdata",value:function(){var e=Object(u.a)(g.a.mark((function e(t){var n,a,i=this;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(t.preventDefault(),n=this.state.serviceregistrytosend.slice(),a=0;a<n.length;)" "===n[a]?n.splice(a,1):a++;console.log(n),window.contract.methods.submitRegistry(n).send({from:this.state.acct}).then((function(e){i.setState({userid:e.events.newRegistry.returnValues.value})}));case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getreg",value:function(){var e=Object(u.a)(g.a.mark((function e(){var t=this;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:window.contract.methods.listgetter(this.state.custid).call().then((function(e){t.sortreg(e),t.setState({register:JSON.stringify(e)})}));case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"sortreg",value:function(e){var t={};e.forEach((function(e,n){var a=e.split(" ");t[a[0]]=[a[1],n]})),this.setState({sortedreg:t})}},{key:"handleChange1",value:function(){this.setState({serviceregistrytosend:[document.getElementById("tf1").value+" "+document.getElementById("tf2").value,document.getElementById("tf3").value+" "+document.getElementById("tf4").value,document.getElementById("tf5").value+" "+document.getElementById("tf6").value,document.getElementById("tf7").value+" "+document.getElementById("tf8").value,document.getElementById("tf9").value+" "+document.getElementById("tf10").value,document.getElementById("tf11").value+" "+document.getElementById("tf12").value,document.getElementById("tf13").value+" "+document.getElementById("tf14").value]})}},{key:"handleChange2",value:function(e){this.setState({custid:e.target.value})}},{key:"handleChange3",value:function(e){this.setState({regid:e.target.value})}},{key:"handleFocus",value:function(e){e.target.select()}},{key:"replaceloc",value:function(){var e=Object(u.a)(g.a.mark((function e(){var t,n,a;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=document.getElementById("servname1").value,n=document.getElementById("servip1").value,a=this.state.sortedreg[t][1],window.contract.methods.changeRegistry([t+" "+n],this.state.regid,[a]).send({from:this.state.acct});case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return Object(j.jsx)("div",{className:"App",children:void 0==window.ethereum?Object(j.jsx)("div",{children:"Please install metamask"}):Object(j.jsxs)("div",{children:[Object(j.jsx)("button",{id:"connectmetamaskbtn",onClick:this.getAccount,children:"Connect Metamask to BSC"}),Object(j.jsxs)("form",{id:"form1",onSubmit:this.submitregdata,children:[" ",Object(j.jsxs)("label",{id:"lbl1",children:[Object(j.jsx)("h3",{children:"Submit new Registry:"}),Object(j.jsx)("h6",{id:"snh6",children:"Service names"}),Object(j.jsx)("h6",{id:"iph6",children:"IP addresses"}),Object(j.jsx)("input",{type:"text",id:"tf1",defaultValue:"",onChange:this.handleChange1,onFocus:this.handleFocus}),"  ",Object(j.jsx)("input",{id:"tf2",type:"text",defaultValue:"",onChange:this.handleChange1,onFocus:this.handleFocus}),Object(j.jsx)("input",{type:"text",id:"tf3",defaultValue:"",onChange:this.handleChange1,onFocus:this.handleFocus}),"  ",Object(j.jsx)("input",{id:"tf4",type:"text",defaultValue:"",onChange:this.handleChange1,onFocus:this.handleFocus}),Object(j.jsx)("input",{type:"text",id:"tf5",defaultValue:"",onChange:this.handleChange1,onFocus:this.handleFocus}),"  ",Object(j.jsx)("input",{id:"tf6",type:"text",defaultValue:"",onChange:this.handleChange1,onFocus:this.handleFocus}),Object(j.jsx)("input",{type:"text",id:"tf7",defaultValue:"",onChange:this.handleChange1,onFocus:this.handleFocus}),"  ",Object(j.jsx)("input",{id:"tf8",type:"text",defaultValue:"",onChange:this.handleChange1,onFocus:this.handleFocus}),Object(j.jsx)("input",{type:"text",id:"tf9",defaultValue:"",onChange:this.handleChange1,onFocus:this.handleFocus}),"  ",Object(j.jsx)("input",{id:"tf10",type:"text",defaultValue:"",onChange:this.handleChange1,onFocus:this.handleFocus}),Object(j.jsx)("input",{type:"text",id:"tf11",defaultValue:"",onChange:this.handleChange1,onFocus:this.handleFocus}),"  ",Object(j.jsx)("input",{id:"tf12",type:"text",defaultValue:"",onChange:this.handleChange1,onFocus:this.handleFocus}),Object(j.jsx)("input",{type:"text",id:"tf13",defaultValue:"",onChange:this.handleChange1,onFocus:this.handleFocus}),"  ",Object(j.jsx)("input",{id:"tf14",type:"text",defaultValue:"",onChange:this.handleChange1,onFocus:this.handleFocus})," "]}),Object(j.jsx)("input",{id:"submitbtn",type:"submit",value:"Submit"}),Object(j.jsxs)("div",{id:"returnedid",children:["RegistryID: ",this.state.userid]})]}),Object(j.jsxs)("div",{className:"methodbox",id:"retrieveregisterdiv",children:[Object(j.jsx)("h3",{children:"Retrieve Service Register"}),Object(j.jsx)("input",{type:"text",id:"retrieveregister",value:this.state.custid,onFocus:this.handleFocus,onChange:this.handleChange2}),Object(j.jsx)("button",{onClick:this.getreg,children:"Get register"}),Object(j.jsx)("div",{children:this.state.register})]}),Object(j.jsxs)("div",{className:"methodbox",id:"replaceregisterdiv",children:[Object(j.jsx)("h3",{children:"Change services' IP addresses"}),Object(j.jsx)("input",{type:"text",defaultValue:"Service name",id:"servname1",onFocus:this.handleFocus})," ",Object(j.jsx)("input",{type:"text",defaultValue:"New IP",id:"servip1",onFocus:this.handleFocus}),Object(j.jsx)("input",{type:"text",id:"regid1",value:this.state.regid,onFocus:this.handleFocus,onChange:this.handleChange3}),Object(j.jsx)("button",{id:"replacebtn",onClick:this.replaceloc,children:"Replace service location"})]})]})})}}]),n}(i.a.Component),x=v,O=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,495)).then((function(t){var n=t.getCLS,a=t.getFID,i=t.getFCP,s=t.getLCP,c=t.getTTFB;n(e),a(e),i(e),s(e),c(e)}))};c.a.render(Object(j.jsx)(i.a.StrictMode,{children:Object(j.jsx)(x,{})}),document.getElementById("root")),O()}},[[492,1,2]]]);
//# sourceMappingURL=main.4b9531fd.chunk.js.map